<div class="card h-100">
    <div class="position-relative">
        {% if article.album.images[0] is defined %}
            <img src="{{ asset('upload/albums/' ~ article.album.images[0].imageName) }}" alt="{{ article.name }}"
                 class="card-img-top">
        {% else %}
            <img src="{{ asset('/images/product_placeholder.png') }}" alt="{{ article.name }}" class="card-img-top">
        {% endif %}
        {% if app.user %}
            {% set wantlist = app.user.wantlist.product %}
            {% if article in wantlist %}
                <div class="position-absolute top-0 end-0 me-2 text-danger fs-4 cursor-pointer"
                     data-controller="obfuscation"
                     data-action="click->obfuscation#obfuscation"
                     data-obfuscation-url-value="/wantlist/remove/{{ article.id }}"
                >
                    <i class="bi bi-eye-slash-fill"></i>
                </div>
            {% else %}
                <div class="position-absolute top-0 end-0 me-2 text-danger fs-4 cursor-pointer"
                     data-controller="obfuscation"
                     data-action="click->obfuscation#obfuscation"
                     data-obfuscation-url-value="/wantlist/add/{{ article.id }}"
                >
                    <i class="bi bi-eye-fill"></i>
                </div>
            {% endif %}
        {% endif %}
    </div>
    <div class="card-body d-flex flex-column justify-content-between">
        <a href="{{ path('app_catalog_article', {support: article.support, slug: article.slug}) }}"
           class="card-title text-center w-100">
            <p>{{ article.name }}</p>
        </a>
        <div class="d-flex justify-content-between align-items-center mt-3">
            <p class="m-0">Prix: {{ (article.price/100) |format_currency('EUR') }}</p>
            <a href="{{ path('app_cart_add', {id: article.id}) }}" class="btn btn-success">
                <i class="bi bi-minecart"></i>
            </a>
        </div>
    </div>
</div>
