<div class="card h-100">
    <div class="position-relative">
        {% if article.album.images[0] is defined %}
            <img src="{{ asset('upload/albums/' ~ article.album.images[0].imageName) }}" alt="{{ article.name }}"
                 class="card-img-top">
        {% else %}
            <img src="{{ asset('/images/product_placeholder.png') }}" alt="{{ article.name }}" class="card-img-top">
        {% endif %}
        {% if app.user %}
            {% set wantlist = app.user.wantlist.product %}
            {% set class = "position-absolute top-0 end-0 me-2 text-danger fs-4 cursor-pointer" %}
            {% if article in wantlist %}
                {% include 'partials/_obfuscation_link.html.twig' with {
                    url: path('app_wantlist_remove', {productId: article.id}),
                    class,
                    icon: "bi-eye-slash-fill"
                } %}
            {% else %}
                {% include 'partials/_obfuscation_link.html.twig' with {
                    url: path('app_wantlist_add', {productId: article.id}),
                    class,
                    icon: "bi-eye-fill"
                } %}
            {% endif %}
        {% endif %}
    </div>
    <div class="card-body d-flex flex-column justify-content-between">
        <a href="{{ path('app_catalog_article', {support: article.support, slug: article.slug}) }}"
           class="card-title text-center w-100">
            <p>{{ article.name }}</p>
        </a>
        <div class="d-flex justify-content-between align-items-center mt-3">
            <p class="m-0">Prix: {{ (article.price/100) |format_currency('EUR') }}</p>
            {% include 'partials/_obfuscation_link.html.twig' with {
                url: path('app_cart_add', {id: article.id}),
                class: "btn btn-success",
                icon: "bi-minecart"
            } %}
        </div>
    </div>
</div>
